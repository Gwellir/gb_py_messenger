2020-07-08 21:38:02,189 DEBUG    [server] function "check_settings" called from "<module>", params = ([],), {}
2020-07-08 21:38:02,190 DEBUG    [server] function "parse_cli_flags" called from "check_settings", params = ([],), {}
2020-07-08 21:38:02,192 INFO     [server] Listening on "":7777
2020-07-08 21:38:03,712 DEBUG    [server] function "receive_message" called from "<module>", params = (<socket.socket fd=792, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 7777), raddr=('127.0.0.1', 4323)>, <Logger server (DEBUG)>), {}
2020-07-08 21:38:03,713 INFO     [server] <- Received message from ('127.0.0.1', 4323): {'action': 'presence', 'time': 1594233483, 'type': 'status', 'user': {'account_name': 'test', 'status': 'online'}}
2020-07-08 21:38:03,714 DEBUG    [server] function "check_presence" called from "<module>", params = ({'action': 'presence', 'time': 1594233483, 'type': 'status', 'user': {'account_name': 'test', 'status': 'online'}},), {}
2020-07-08 21:38:03,714 DEBUG    [server] function "send_response" called from "<module>", params = ({'action': 'presence', 'time': 1594233483, 'type': 'status', 'user': {'account_name': 'test', 'status': 'online'}}, <socket.socket fd=792, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 7777), raddr=('127.0.0.1', 4323)>), {}
2020-07-08 21:38:03,715 DEBUG    [server] function "process_action" called from "send_response", params = ({'action': 'presence', 'time': 1594233483, 'type': 'status', 'user': {'account_name': 'test', 'status': 'online'}},), {}
2020-07-08 21:38:03,715 DEBUG    [server] function "form_response" called from "send_response", params = (200,), {}
2020-07-08 21:38:03,715 DEBUG    [server] Formed response: {'response': 200, 'time': 1594233483, 'alert': 'OK'}
2020-07-08 21:38:03,716 DEBUG    [server] function "send_message" called from "send_response", params = ({'response': 200, 'time': 1594233483, 'alert': 'OK'}, <socket.socket fd=792, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 7777), raddr=('127.0.0.1', 4323)>, <Logger server (DEBUG)>), {}
2020-07-08 21:38:03,716 INFO     [server] -> Sent message to ('127.0.0.1', 4323): {'response': 200, 'time': 1594233483, 'alert': 'OK'}
2020-07-08 21:38:03,716 INFO     [server] New CLIENT: "test" from ('127.0.0.1', 4323)
2020-07-08 21:38:03,717 DEBUG    [server] function "receive_message" called from "<module>", params = (<socket.socket fd=792, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 7777), raddr=('127.0.0.1', 4323)>, <Logger server (DEBUG)>), {}
2020-07-08 21:38:03,718 INFO     [server] <- Received message from ('127.0.0.1', 4323): {'action': 'authenticate', 'time': 1594233483, 'user': {'account_name': 'test', 'password': '12345678'}}
2020-07-08 21:38:03,719 DEBUG    [server] function "send_response" called from "<module>", params = ({'action': 'authenticate', 'time': 1594233483, 'user': {'account_name': 'test', 'password': '12345678'}}, <socket.socket fd=792, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 7777), raddr=('127.0.0.1', 4323)>), {}
2020-07-08 21:38:03,719 DEBUG    [server] function "process_action" called from "send_response", params = ({'action': 'authenticate', 'time': 1594233483, 'user': {'account_name': 'test', 'password': '12345678'}},), {}
2020-07-08 21:38:03,720 DEBUG    [server] function "form_response" called from "send_response", params = (402,), {}
2020-07-08 21:38:03,720 DEBUG    [server] Formed response: {'response': 402, 'time': 1594233483, 'error': 'Wrong password'}
2020-07-08 21:38:03,720 DEBUG    [server] function "send_message" called from "send_response", params = ({'response': 402, 'time': 1594233483, 'error': 'Wrong password'}, <socket.socket fd=792, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 7777), raddr=('127.0.0.1', 4323)>, <Logger server (DEBUG)>), {}
2020-07-08 21:38:03,720 INFO     [server] -> Sent message to ('127.0.0.1', 4323): {'response': 402, 'time': 1594233483, 'error': 'Wrong password'}
2020-07-08 21:38:03,721 DEBUG    [server] function "receive_message" called from "<module>", params = (<socket.socket fd=792, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 7777), raddr=('127.0.0.1', 4323)>, <Logger server (DEBUG)>), {}
2020-07-08 21:38:03,722 INFO     [server] <- Received message from ('127.0.0.1', 4323): {'action': 'join', 'time': 1594233483, 'room': '#test'}
2020-07-08 21:38:03,723 DEBUG    [server] function "send_response" called from "<module>", params = ({'action': 'join', 'time': 1594233483, 'room': '#test'}, <socket.socket fd=792, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 7777), raddr=('127.0.0.1', 4323)>), {}
2020-07-08 21:38:03,723 DEBUG    [server] function "process_action" called from "send_response", params = ({'action': 'join', 'time': 1594233483, 'room': '#test'},), {}
2020-07-08 21:38:03,724 DEBUG    [server] function "form_response" called from "send_response", params = (404,), {}
2020-07-08 21:38:03,724 DEBUG    [server] Formed response: {'response': 404, 'time': 1594233483, 'error': 'User or chat doesn`t exist'}
2020-07-08 21:38:03,724 DEBUG    [server] function "send_message" called from "send_response", params = ({'response': 404, 'time': 1594233483, 'error': 'User or chat doesn`t exist'}, <socket.socket fd=792, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 7777), raddr=('127.0.0.1', 4323)>, <Logger server (DEBUG)>), {}
2020-07-08 21:38:03,724 INFO     [server] -> Sent message to ('127.0.0.1', 4323): {'response': 404, 'time': 1594233483, 'error': 'User or chat doesn`t exist'}
2020-07-08 21:38:03,725 DEBUG    [server] function "receive_message" called from "<module>", params = (<socket.socket fd=792, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 7777), raddr=('127.0.0.1', 4323)>, <Logger server (DEBUG)>), {}
2020-07-08 21:38:03,726 INFO     [server] <- Received message from ('127.0.0.1', 4323): {'action': 'msg', 'time': 1594233483, 'to': '#test', 'from': 'test', 'message': 'Привет!'}
2020-07-08 21:38:03,727 DEBUG    [server] function "send_response" called from "<module>", params = ({'action': 'msg', 'time': 1594233483, 'to': '#test', 'from': 'test', 'message': 'Привет!'}, <socket.socket fd=792, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 7777), raddr=('127.0.0.1', 4323)>), {}
2020-07-08 21:38:03,727 DEBUG    [server] function "process_action" called from "send_response", params = ({'action': 'msg', 'time': 1594233483, 'to': '#test', 'from': 'test', 'message': 'Привет!'},), {}
2020-07-08 21:38:03,728 DEBUG    [server] function "form_response" called from "send_response", params = (410,), {}
2020-07-08 21:38:03,728 DEBUG    [server] Formed response: {'response': 410, 'time': 1594233483, 'error': 'Target user is offline'}
2020-07-08 21:38:03,728 DEBUG    [server] function "send_message" called from "send_response", params = ({'response': 410, 'time': 1594233483, 'error': 'Target user is offline'}, <socket.socket fd=792, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 7777), raddr=('127.0.0.1', 4323)>, <Logger server (DEBUG)>), {}
2020-07-08 21:38:03,729 INFO     [server] -> Sent message to ('127.0.0.1', 4323): {'response': 410, 'time': 1594233483, 'error': 'Target user is offline'}
2020-07-08 21:38:03,729 DEBUG    [server] function "receive_message" called from "<module>", params = (<socket.socket fd=792, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 7777), raddr=('127.0.0.1', 4323)>, <Logger server (DEBUG)>), {}
2020-07-08 21:38:03,729 ERROR    [server] Could not decode message: ""
2020-07-08 21:38:03,730 ERROR    [server] function "receive_message" raised an exception "JSONDecodeError" ('Expecting value: line 1 column 1 (char 0)',)
2020-07-08 21:38:03,730 INFO     [server] Client "test" has disconnected
2020-07-08 21:38:05,142 DEBUG    [server] function "receive_message" called from "<module>", params = (<socket.socket fd=640, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 7777), raddr=('127.0.0.1', 4325)>, <Logger server (DEBUG)>), {}
2020-07-08 21:38:05,143 INFO     [server] <- Received message from ('127.0.0.1', 4325): {'action': 'presence', 'time': 1594233485, 'type': 'status', 'user': {'account_name': 'test', 'status': 'online'}}
2020-07-08 21:38:05,144 DEBUG    [server] function "check_presence" called from "<module>", params = ({'action': 'presence', 'time': 1594233485, 'type': 'status', 'user': {'account_name': 'test', 'status': 'online'}},), {}
2020-07-08 21:38:05,144 DEBUG    [server] function "send_response" called from "<module>", params = ({'action': 'presence', 'time': 1594233485, 'type': 'status', 'user': {'account_name': 'test', 'status': 'online'}}, <socket.socket fd=640, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 7777), raddr=('127.0.0.1', 4325)>), {}
2020-07-08 21:38:05,145 DEBUG    [server] function "process_action" called from "send_response", params = ({'action': 'presence', 'time': 1594233485, 'type': 'status', 'user': {'account_name': 'test', 'status': 'online'}},), {}
2020-07-08 21:38:05,145 DEBUG    [server] function "form_response" called from "send_response", params = (200,), {}
2020-07-08 21:38:05,145 DEBUG    [server] Formed response: {'response': 200, 'time': 1594233485, 'alert': 'OK'}
2020-07-08 21:38:05,146 DEBUG    [server] function "send_message" called from "send_response", params = ({'response': 200, 'time': 1594233485, 'alert': 'OK'}, <socket.socket fd=640, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 7777), raddr=('127.0.0.1', 4325)>, <Logger server (DEBUG)>), {}
2020-07-08 21:38:05,146 INFO     [server] -> Sent message to ('127.0.0.1', 4325): {'response': 200, 'time': 1594233485, 'alert': 'OK'}
2020-07-08 21:38:05,146 INFO     [server] New CLIENT: "test" from ('127.0.0.1', 4325)
2020-07-08 21:38:05,146 DEBUG    [server] function "receive_message" called from "<module>", params = (<socket.socket fd=640, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 7777), raddr=('127.0.0.1', 4325)>, <Logger server (DEBUG)>), {}
2020-07-08 21:38:05,148 INFO     [server] <- Received message from ('127.0.0.1', 4325): {'action': 'authenticate', 'time': 1594233485, 'user': {'account_name': 'test', 'password': '12345678'}}
2020-07-08 21:38:05,148 DEBUG    [server] function "send_response" called from "<module>", params = ({'action': 'authenticate', 'time': 1594233485, 'user': {'account_name': 'test', 'password': '12345678'}}, <socket.socket fd=640, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 7777), raddr=('127.0.0.1', 4325)>), {}
2020-07-08 21:38:05,149 DEBUG    [server] function "process_action" called from "send_response", params = ({'action': 'authenticate', 'time': 1594233485, 'user': {'account_name': 'test', 'password': '12345678'}},), {}
2020-07-08 21:38:05,150 DEBUG    [server] function "form_response" called from "send_response", params = (402,), {}
2020-07-08 21:38:05,150 DEBUG    [server] Formed response: {'response': 402, 'time': 1594233485, 'error': 'Wrong password'}
2020-07-08 21:38:05,150 DEBUG    [server] function "send_message" called from "send_response", params = ({'response': 402, 'time': 1594233485, 'error': 'Wrong password'}, <socket.socket fd=640, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 7777), raddr=('127.0.0.1', 4325)>, <Logger server (DEBUG)>), {}
2020-07-08 21:38:05,150 INFO     [server] -> Sent message to ('127.0.0.1', 4325): {'response': 402, 'time': 1594233485, 'error': 'Wrong password'}
2020-07-08 21:38:05,151 DEBUG    [server] function "receive_message" called from "<module>", params = (<socket.socket fd=640, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 7777), raddr=('127.0.0.1', 4325)>, <Logger server (DEBUG)>), {}
2020-07-08 21:38:05,152 INFO     [server] <- Received message from ('127.0.0.1', 4325): {'action': 'join', 'time': 1594233485, 'room': '#test'}
2020-07-08 21:38:05,153 DEBUG    [server] function "send_response" called from "<module>", params = ({'action': 'join', 'time': 1594233485, 'room': '#test'}, <socket.socket fd=640, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 7777), raddr=('127.0.0.1', 4325)>), {}
2020-07-08 21:38:05,153 DEBUG    [server] function "process_action" called from "send_response", params = ({'action': 'join', 'time': 1594233485, 'room': '#test'},), {}
2020-07-08 21:38:05,154 DEBUG    [server] function "form_response" called from "send_response", params = (404,), {}
2020-07-08 21:38:05,154 DEBUG    [server] Formed response: {'response': 404, 'time': 1594233485, 'error': 'User or chat doesn`t exist'}
2020-07-08 21:38:05,155 DEBUG    [server] function "send_message" called from "send_response", params = ({'response': 404, 'time': 1594233485, 'error': 'User or chat doesn`t exist'}, <socket.socket fd=640, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 7777), raddr=('127.0.0.1', 4325)>, <Logger server (DEBUG)>), {}
2020-07-08 21:38:05,155 INFO     [server] -> Sent message to ('127.0.0.1', 4325): {'response': 404, 'time': 1594233485, 'error': 'User or chat doesn`t exist'}
2020-07-08 21:38:05,155 DEBUG    [server] function "receive_message" called from "<module>", params = (<socket.socket fd=640, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 7777), raddr=('127.0.0.1', 4325)>, <Logger server (DEBUG)>), {}
2020-07-08 21:38:05,157 INFO     [server] <- Received message from ('127.0.0.1', 4325): {'action': 'msg', 'time': 1594233485, 'to': '#test', 'from': 'test', 'message': 'Привет!'}
2020-07-08 21:38:05,157 DEBUG    [server] function "send_response" called from "<module>", params = ({'action': 'msg', 'time': 1594233485, 'to': '#test', 'from': 'test', 'message': 'Привет!'}, <socket.socket fd=640, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 7777), raddr=('127.0.0.1', 4325)>), {}
2020-07-08 21:38:05,158 DEBUG    [server] function "process_action" called from "send_response", params = ({'action': 'msg', 'time': 1594233485, 'to': '#test', 'from': 'test', 'message': 'Привет!'},), {}
2020-07-08 21:38:05,158 DEBUG    [server] function "form_response" called from "send_response", params = (410,), {}
2020-07-08 21:38:05,158 DEBUG    [server] Formed response: {'response': 410, 'time': 1594233485, 'error': 'Target user is offline'}
2020-07-08 21:38:05,159 DEBUG    [server] function "send_message" called from "send_response", params = ({'response': 410, 'time': 1594233485, 'error': 'Target user is offline'}, <socket.socket fd=640, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 7777), raddr=('127.0.0.1', 4325)>, <Logger server (DEBUG)>), {}
2020-07-08 21:38:05,159 INFO     [server] -> Sent message to ('127.0.0.1', 4325): {'response': 410, 'time': 1594233485, 'error': 'Target user is offline'}
2020-07-08 21:38:05,160 DEBUG    [server] function "receive_message" called from "<module>", params = (<socket.socket fd=640, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 7777), raddr=('127.0.0.1', 4325)>, <Logger server (DEBUG)>), {}
2020-07-08 21:38:05,160 ERROR    [server] Could not decode message: ""
2020-07-08 21:38:05,160 ERROR    [server] function "receive_message" raised an exception "JSONDecodeError" ('Expecting value: line 1 column 1 (char 0)',)
2020-07-08 21:38:05,160 INFO     [server] Client "test" has disconnected
